<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦™æ¸¯ä¸­å­¸é¢è©¦é¡Œç›®ç”Ÿæˆå™¨</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“</text></svg>">
    <style>
        /* æŠ˜ç–Š/å±•é–‹åŠŸèƒ½æ¨£å¼ */
        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            padding: 15px 20px;
            border-radius: 8px;
            background: #f8fafc;
            border: 1px solid #eaeaea;
            margin-bottom: 10px;
            transition: all 0.3s ease;
            user-select: none;
        }
        
        .section-header:hover {
            background: #f0f4f8;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .section-header h3 {
            margin: 0;
            color: #2c3e50;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .toggle-icon {
            transition: transform 0.3s ease;
            color: #4a6491;
            font-size: 1.1rem;
        }
        
        .collapsed .toggle-icon {
            transform: rotate(-90deg);
        }
        
        .section-content {
            overflow: hidden;
            transition: max-height 0.4s ease, opacity 0.3s ease, padding 0.3s ease;
            max-height: 2000px;
            opacity: 1;
            padding: 15px;
        }
        
        .collapsed + .section-content {
            max-height: 0;
            opacity: 0;
            padding-top: 0;
            padding-bottom: 0;
            margin-bottom: 0;
            overflow: hidden;
        }
        
        .section-controls {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8fafc;
            border-radius: 8px;
            border: 1px solid #eaeaea;
        }
        
        .section-controls button {
            background: linear-gradient(to right, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .section-controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
        }
        
        /* å‹•ç•«æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question-list li {
            animation: fadeIn 0.5s ease;
        }
        
        /* å•é¡Œåˆ—è¡¨æ¨£å¼èª¿æ•´ */
        .section .question-list {
            margin-top: 0;
            padding-top: 0;
        }
        
        /* èª¿æ•´åŸå§‹sectionæ¨£å¼ä»¥å…¼å®¹æŠ˜ç–ŠåŠŸèƒ½ */
        .section > .section-content {
            padding: 0;
            border-left: none;
            background: transparent;
        }
        
        .section > .section-header + .section-content {
            padding: 0 15px 15px 15px;
        }
        
        /* éŸ¿æ‡‰å¼èª¿æ•´ */
        @media (max-width: 768px) {
            .section-controls {
                flex-direction: column;
            }
            
            .section-controls button {
                width: 100%;
                justify-content: center;
            }
            
            .section-header h3 {
                font-size: 1.1rem;
            }
            
            .section-header {
                padding: 12px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-graduation-cap"></i> é¦™æ¸¯ä¸­å­¸é¢è©¦é¡Œç›®ç”Ÿæˆå™¨</h1>
            <p class="subtitle">å°ˆç‚ºæŒ‡å®šä¸­å­¸å®šåˆ¶é¢è©¦æº–å‚™é¡Œç›®</p>
            <p class="subtitle">Secondary School Interview Question Generator</p>
        </header>
        
        <div class="content">
            <div class="selection-panel">
                <h2><i class="fas fa-cog"></i> è¨­å®šé¸é …</h2>
                
                <div class="form-group">
                    <label for="schoolSelect"><i class="fas fa-school"></i> é¸æ“‡å­¸æ ¡ï¼š</label>
                    <select id="schoolSelect">
                        <option value="">-- è«‹é¸æ“‡å­¸æ ¡ --</option>
                    </select>
                    <div class="school-count" id="schoolCount">è¼‰å…¥ä¸­...</div>
                </div>
                
                <div class="form-group">
                    <label for="questionTypeSelect"><i class="fas fa-question-circle"></i> é¸æ“‡å•é¡Œé¡å‹ï¼š</label>
                    <select id="questionTypeSelect">
                        <option value="all">å…¨éƒ¨é¡å‹</option>
                        <option value="chinese">ä¸­æ–‡</option>
                        <option value="english">English</option>
                        <option value="math">æ•¸å­¸ï¼ˆå¿ƒç®—ï¼‰</option>
                        <option value="current">æ™‚äº‹</option>
                        <option value="science">ç§‘å­¸</option>
                        <option value="creative">å‰µæ„</option>
                        <option value="other">å…¶ä»–</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="schoolSearch"><i class="fas fa-search"></i> æœå°‹å­¸æ ¡ï¼š</label>
                    <input type="text" id="schoolSearch" placeholder="è¼¸å…¥å­¸æ ¡ä¸­æ–‡æˆ–è‹±æ–‡åç¨±...">
                </div>
                
                <div class="form-group">
                    <label for="questionCount">æ¯é¡å•é¡Œæ•¸é‡ï¼š</label>
                    <input type="number" id="questionCount" min="1" max="10" value="4" placeholder="è¼¸å…¥1-10ä¹‹é–“çš„æ•¸å­—">
                </div>
                
                <button class="btn random-btn" id="randomBtn">
                    <i class="fas fa-random"></i> éš¨æ©Ÿç”Ÿæˆ
                </button>
                
                <button class="btn" id="generateBtn">
                    <i class="fas fa-magic"></i> ç”Ÿæˆé¢è©¦é¡Œç›®
                </button>
                
                <button class="btn view-history-btn" id="viewHistoryBtn" style="background: linear-gradient(to right, #9b59b6, #8e44ad); margin-top: 10px;">
                    <i class="fas fa-history"></i> æŸ¥çœ‹ç·´ç¿’è¨˜éŒ„
                </button>
                
                <div class="loading" id="loadingIndicator">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>æ­£åœ¨ç”Ÿæˆé¡Œç›®...</p>
                </div>
                
                <div class="section highlight" id="schoolsSection">
                    <div class="section-header" onclick="toggleSection('schoolsSection')">
                        <h3>
                            <i class="fas fa-info-circle"></i>
                            æ”¯æ´å­¸æ ¡
                        </h3>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </div>
                    <div class="section-content">
                        <p>æœ¬å·¥å…·å°ˆç‚ºä»¥ä¸‹äº”æ‰€ä¸­å­¸å®šåˆ¶ï¼š</p>
                        <ul class="question-list">
                            <li>è‹±è¯æ›¸é™¢ (Ying Wa College)</li>
                            <li>è–ä¿ç¾…ç”·å¥³ä¸­å­¸ (St. Paul's Co-educational College)</li>
                            <li>å®£é“æœƒé™³ç‘èŠç´€å¿µä¸­å­¸ (Alliance Church Chan Sui Ki College)</li>
                            <li>ä¿è‰¯å±€è‘£ç‰å¨£ä¸­å­¸ (Po Leung Kuk Tang Yuk Tien College)</li>
                            <li>é¦™æ¸¯é’å¹´æœƒæå…†åŸºæ›¸é™¢ (Hong Kong Federation of Youth Groups Lee Shau Kee College)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="section" id="instructionsSection">
                    <div class="section-header" onclick="toggleSection('instructionsSection')">
                        <h3>
                            <i class="fas fa-lightbulb"></i>
                            ä½¿ç”¨èªªæ˜
                        </h3>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </div>
                    <div class="section-content">
                        <ol class="instruction-list">
                            <li>é¸æ“‡å­¸æ ¡å’Œå•é¡Œé¡å‹</li>
                            <li>è¨­å®šæ¯é¡å•é¡Œæ•¸é‡</li>
                            <li>é»æ“Š"ç”Ÿæˆé¢è©¦é¡Œç›®"</li>
                            <li>é»æ“Šå•é¡Œæ—é‚Šçš„"ç·´ç¿’"æŒ‰éˆ•è¨˜éŒ„é€²åº¦</li>
                            <li>æŸ¥çœ‹ç·´ç¿’è¨˜éŒ„è¿½è¹¤å­¸ç¿’é€²åº¦</li>
                            <li>é»æ“Šå€å¡Šæ¨™é¡Œå¯å±•é–‹/æ”¶åˆå…§å®¹</li>
                        </ol>
                    </div>
                </div>
            </div>
            
            <div class="results-panel">
                <h2><i class="fas fa-file-alt"></i> é¢è©¦é¡Œç›®èˆ‡å­¸æ ¡è³‡æ–™</h2>
                
                <div id="resultsContainer">
                    <div class="no-school" id="noSchoolMessage">
                        <i class="fas fa-info-circle" style="font-size: 3rem; margin-bottom: 15px;"></i>
                        <h3>è«‹é¸æ“‡å­¸æ ¡é–‹å§‹</h3>
                        <p>é¸æ“‡å­¸æ ¡å’Œå•é¡Œé¡å‹ï¼Œç„¶å¾Œé»æ“Š"ç”Ÿæˆé¢è©¦é¡Œç›®"æŒ‰éˆ•ã€‚</p>
                        
                        <div class="section" id="quickGuideSection">
                            <div class="section-header" onclick="toggleSection('quickGuideSection')">
                                <h3>
                                    <i class="fas fa-graduation-cap"></i>
                                    å•é¡Œé¡å‹èªªæ˜
                                </h3>
                                <i class="fas fa-chevron-down toggle-icon"></i>
                            </div>
                            <div class="section-content">
                                <div class="guide-grid">
                                    <div class="guide-item">
                                        <i class="fas fa-language"></i>
                                        <div>
                                            <strong>ä¸­æ–‡</strong>
                                            <p>ä¸­æ–‡èªè¨€èƒ½åŠ›èˆ‡è¡¨é”</p>
                                        </div>
                                    </div>
                                    <div class="guide-item">
                                        <i class="fas fa-language"></i>
                                        <div>
                                            <strong>English</strong>
                                            <p>è‹±èªæºé€šèˆ‡ç†è§£</p>
                                        </div>
                                    </div>
                                    <div class="guide-item">
                                        <i class="fas fa-calculator"></i>
                                        <div>
                                            <strong>æ•¸å­¸ï¼ˆå¿ƒç®—ï¼‰</strong>
                                            <p>æ•¸å­¸æ€ç¶­èˆ‡å¿ƒç®—èƒ½åŠ›</p>
                                        </div>
                                    </div>
                                    <div class="guide-item">
                                        <i class="fas fa-newspaper"></i>
                                        <div>
                                            <strong>æ™‚äº‹</strong>
                                            <p>å°ç•¶å‰ç¤¾æœƒæ™‚äº‹çš„èªè­˜èˆ‡è¦‹è§£</p>
                                        </div>
                                    </div>
                                    <div class="guide-item">
                                        <i class="fas fa-flask"></i>
                                        <div>
                                            <strong>ç§‘å­¸</strong>
                                            <p>ç§‘å­¸çŸ¥è­˜èˆ‡æ¢ç©¶ç²¾ç¥</p>
                                        </div>
                                    </div>
                                    <div class="guide-item">
                                        <i class="fas fa-lightbulb"></i>
                                        <div>
                                            <strong>å‰µæ„</strong>
                                            <p>å‰µæ„æ€ç¶­èˆ‡è§£æ±ºå•é¡Œèƒ½åŠ›</p>
                                        </div>
                                    </div>
                                    <div class="guide-item">
                                        <i class="fas fa-question-circle"></i>
                                        <div>
                                            <strong>å…¶ä»–</strong>
                                            <p>ç¶œåˆç´ è³ªèˆ‡å€‹äººç™¼å±•</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="section highlight" id="featuresSection">
                            <div class="section-header" onclick="toggleSection('featuresSection')">
                                <h3>
                                    <i class="fas fa-star"></i>
                                    ç‰¹è‰²åŠŸèƒ½
                                </h3>
                                <i class="fas fa-chevron-down toggle-icon"></i>
                            </div>
                            <div class="section-content">
                                <ul class="question-list">
                                    <li><i class="fas fa-check-circle"></i> æ¯é¡Œæ—æœ‰"ç·´ç¿’"æŒ‰éˆ•è¨˜éŒ„é€²åº¦</li>
                                    <li><i class="fas fa-history"></i> è‡ªå‹•ä¿å­˜ç·´ç¿’è¨˜éŒ„</li>
                                    <li><i class="fas fa-chart-line"></i> ç·´ç¿’çµ±è¨ˆèˆ‡é€²åº¦è¿½è¹¤</li>
                                    <li><i class="fas fa-random"></i> ä¸€éµéš¨æ©Ÿç”Ÿæˆé¡Œç›®</li>
                                    <li><i class="fas fa-expand-alt"></i> å¯æŠ˜ç–Š/å±•é–‹å…§å®¹å€å¡Š</li>
                                    <li><i class="fas fa-mobile-alt"></i> éŸ¿æ‡‰å¼è¨­è¨ˆæ”¯æ´æ‰‹æ©Ÿ</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div id="questionsOutput" style="display: none;">
                        <!-- å€å¡Šæ§åˆ¶æŒ‰éˆ• -->
                        <div class="section-controls">
                            <button onclick="expandAllSections()">
                                <i class="fas fa-expand-alt"></i> å±•é–‹å…¨éƒ¨
                            </button>
                            <button onclick="collapseAllSections()">
                                <i class="fas fa-compress-alt"></i> æ”¶åˆå…¨éƒ¨
                            </button>
                        </div>
                        
                        <!-- é¡Œç›®å°‡åœ¨é€™è£¡ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>æ­¤å·¥å…·ç‚ºä¸­å­¸å…¥å­¸é¢è©¦ç”Ÿæˆç·´ç¿’é¡Œç›®ã€‚é¡Œç›®åƒ…ä¾›ç·´ç¿’åƒè€ƒï¼Œå¯¦éš›é¢è©¦å•é¡Œå¯èƒ½æœ‰æ‰€ä¸åŒã€‚</p>
            <p>å»ºè­°çµåˆå­¸æ ¡å®˜æ–¹è³‡æ–™å’Œå€‹äººç¶“æ­·é€²è¡Œé¢è©¦æº–å‚™ã€‚</p>
            <p>è¨—ç®¡æ–¼ GitHub Pages | ç‚ºå­¸ç”Ÿè£½ä½œ <i class="fas fa-heart" style="color: #e74c3c;"></i></p>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // æŠ˜ç–Š/å±•é–‹åŠŸèƒ½ - ç°¡åŒ–ç‰ˆæœ¬
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (!section) return;
            
            const header = section.querySelector('.section-header');
            const content = section.querySelector('.section-content');
            
            if (header && content) {
                header.classList.toggle('collapsed');
            }
        }
        
        function expandAllSections() {
            document.querySelectorAll('.section-header').forEach(header => {
                header.classList.remove('collapsed');
            });
        }
        
        function collapseAllSections() {
            document.querySelectorAll('.section-header').forEach(header => {
                header.classList.add('collapsed');
            });
        }
        
        // åˆå§‹åŒ–æ‰€æœ‰æŠ˜ç–Šå€å¡Š
        document.addEventListener('DOMContentLoaded', function() {
            // é è¨­å±•é–‹æ‰€æœ‰å€å¡Š
            expandAllSections();
            
            // ç‚ºå‹•æ…‹ç”Ÿæˆçš„å…§å®¹æ·»åŠ æŠ˜ç–ŠåŠŸèƒ½
            setupDynamicContentCollapse();
        });
        
        // ç‚ºå‹•æ…‹ç”Ÿæˆçš„å…§å®¹è¨­ç½®æŠ˜ç–ŠåŠŸèƒ½
        function setupDynamicContentCollapse() {
            // ç›£è½å‹•æ…‹å…§å®¹çš„è®ŠåŒ–
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.addedNodes.length) {
                        addCollapseToGeneratedContent();
                    }
                });
            });
            
            // ç›£è½å•é¡Œè¼¸å‡ºå€åŸŸçš„è®ŠåŒ–
            const questionsOutput = document.getElementById('questionsOutput');
            if (questionsOutput) {
                observer.observe(questionsOutput, { childList: true, subtree: true });
            }
        }
        
        // ç‚ºç”Ÿæˆçš„å…§å®¹æ·»åŠ æŠ˜ç–ŠåŠŸèƒ½
        function addCollapseToGeneratedContent() {
            const questionSections = document.querySelectorAll('#questionsOutput .section');
            
            questionSections.forEach((section, index) => {
                // å¦‚æœå·²ç¶“æœ‰æŠ˜ç–ŠåŠŸèƒ½ï¼Œè·³é
                if (section.querySelector('.section-header')) return;
                
                const title = section.querySelector('.section-title');
                const content = section.querySelector('.question-list, .school-details, .practice-summary, .action-buttons');
                
                if (title && content) {
                    // å‰µå»ºå”¯ä¸€çš„ID
                    const sectionId = 'dynamic-section-' + Date.now() + '-' + index;
                    
                    // å‰µå»ºæ–°çš„æŠ˜ç–Šæ¨™é ­
                    const header = document.createElement('div');
                    header.className = 'section-header';
                    header.setAttribute('onclick', `toggleSection('${sectionId}')`);
                    
                    const titleText = title.querySelector('h3')?.textContent || 'æœªå‘½åå€å¡Š';
                    const icon = title.querySelector('i')?.className || 'fas fa-question-circle';
                    
                    header.innerHTML = `
                        <h3>
                            <i class="${icon}"></i>
                            ${titleText}
                        </h3>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    `;
                    
                    // åŒ…è£¹å…§å®¹
                    const contentWrapper = document.createElement('div');
                    contentWrapper.className = 'section-content';
                    contentWrapper.id = sectionId + '-content';
                    
                    // å°‡å…§å®¹ç§»åˆ°åŒ…è£¹å™¨ä¸­
                    while (content.firstChild) {
                        contentWrapper.appendChild(content.firstChild);
                    }
                    
                    // æ›¿æ›åŸå§‹å…§å®¹
                    section.innerHTML = '';
                    section.appendChild(header);
                    section.appendChild(contentWrapper);
                    section.id = sectionId;
                    
                    // ç§»é™¤åŸä¾†çš„æ¨™é¡Œå…ƒç´ 
                    title.remove();
                }
            });
        }
        
        // ä¿®æ”¹script.jsä¸­çš„generateQuestionså‡½æ•¸ï¼Œåœ¨æœ€å¾Œèª¿ç”¨addCollapseToGeneratedContent
        // ä¿å­˜åŸä¾†çš„generateQuestionså‡½æ•¸å¼•ç”¨
        const originalGenerateQuestions = window.generateQuestions;
        
        if (originalGenerateQuestions) {
            window.generateQuestions = function() {
                // èª¿ç”¨åŸä¾†çš„å‡½æ•¸
                originalGenerateQuestions.apply(this, arguments);
                
                // åœ¨å‹•æ…‹å…§å®¹ç”Ÿæˆå¾Œæ·»åŠ æŠ˜ç–ŠåŠŸèƒ½
                setTimeout(() => {
                    addCollapseToGeneratedContent();
                }, 600); // ç­‰å¾…å‹•ç•«å®Œæˆ
            };
        }
    </script>
</body>
</html>